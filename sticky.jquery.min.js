(function(e){e.fn.sticky=function(){var t=this;var n=e(t).width();var r=[];e(t).find("th").each(function(){r.push(e(this).css("width"))});var i=e(t).offset();var s=i.top+"px";var o=i.left;var u="tr:first-child";var a=e(t).find("thead").length;if(a)u="thead tr:first-child";var f=0;e(t).find(u+">th").each(function(){e(this).css("width",r[f]);f++});f=0;var l="tr:last-child";e(t).find(l+">td").each(function(){e(this).css("width",r[f]);f++});e(window).scroll(function(){if(e(window).scrollTop()>i.top){e(t).find(u).css("width",n+"px");e(t).find(l).css("width",n+"px");e(t).find(u).css("position","absolute");e(t).find(u).css("top",e("body")[0].scrollTop+"px");e(t).find(u).css("left",o+"px");console.log(e(t).scrollTop())}else{e(t).find(u).css("position","relative");e(t).find(u).css("top",s)}})}})(jQuery)